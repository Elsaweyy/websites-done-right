import { useState } from "react";
import { BookOpen, Play, Pause, ChevronLeft, ChevronRight, Search } from "lucide-react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { ScrollArea } from "@/components/ui/scroll-area";

interface Surah {
  id: number;
  name: string;
  verses: number;
  type: string;
  ayat: string[];
}

const surahs: Surah[] = [
  {
    id: 1,
    name: "الفاتحة",
    verses: 7,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",
      "الرَّحْمَٰنِ الرَّحِيمِ",
      "مَالِكِ يَوْمِ الدِّينِ",
      "إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ",
      "اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ",
      "صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",
    ],
  },
  {
    id: 112,
    name: "الإخلاص",
    verses: 4,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "قُلْ هُوَ اللَّهُ أَحَدٌ",
      "اللَّهُ الصَّمَدُ",
      "لَمْ يَلِدْ وَلَمْ يُولَدْ",
      "وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ",
    ],
  },
  {
    id: 113,
    name: "الفلق",
    verses: 5,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ",
      "مِن شَرِّ مَا خَلَقَ",
      "وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ",
      "وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ",
      "وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ",
    ],
  },
  {
    id: 114,
    name: "الناس",
    verses: 6,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "قُلْ أَعُوذُ بِرَبِّ النَّاسِ",
      "مَلِكِ النَّاسِ",
      "إِلَٰهِ النَّاسِ",
      "مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ",
      "الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ",
      "مِنَ الْجِنَّةِ وَالنَّاسِ",
    ],
  },
  {
    id: 110,
    name: "النصر",
    verses: 3,
    type: "مدنية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "إِذَا جَاءَ نَصْرُ اللَّهِ وَالْفَتْحُ",
      "وَرَأَيْتَ النَّاسَ يَدْخُلُونَ فِي دِينِ اللَّهِ أَفْوَاجًا",
      "فَسَبِّحْ بِحَمْدِ رَبِّكَ وَاسْتَغْفِرْهُ ۚ إِنَّهُ كَانَ تَوَّابًا",
    ],
  },
  {
    id: 111,
    name: "المسد",
    verses: 5,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "تَبَّتْ يَدَا أَبِي لَهَبٍ وَتَبَّ",
      "مَا أَغْنَىٰ عَنْهُ مَالُهُ وَمَا كَسَبَ",
      "سَيَصْلَىٰ نَارًا ذَاتَ لَهَبٍ",
      "وَامْرَأَتُهُ حَمَّالَةَ الْحَطَبِ",
      "فِي جِيدِهَا حَبْلٌ مِّن مَّسَدٍ",
    ],
  },
  {
    id: 109,
    name: "الكافرون",
    verses: 6,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "قُلْ يَا أَيُّهَا الْكَافِرُونَ",
      "لَا أَعْبُدُ مَا تَعْبُدُونَ",
      "وَلَا أَنتُمْ عَابِدُونَ مَا أَعْبُدُ",
      "وَلَا أَنَا عَابِدٌ مَّا عَبَدتُّمْ",
      "وَلَا أَنتُمْ عَابِدُونَ مَا أَعْبُدُ",
      "لَكُمْ دِينُكُمْ وَلِيَ دِينِ",
    ],
  },
  {
    id: 108,
    name: "الكوثر",
    verses: 3,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ",
      "فَصَلِّ لِرَبِّكَ وَانْحَرْ",
      "إِنَّ شَانِئَكَ هُوَ الْأَبْتَرُ",
    ],
  },
  {
    id: 107,
    name: "الماعون",
    verses: 7,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "أَرَأَيْتَ الَّذِي يُكَذِّبُ بِالدِّينِ",
      "فَذَٰلِكَ الَّذِي يَدُعُّ الْيَتِيمَ",
      "وَلَا يَحُضُّ عَلَىٰ طَعَامِ الْمِسْكِينِ",
      "فَوَيْلٌ لِّلْمُصَلِّينَ",
      "الَّذِينَ هُمْ عَن صَلَاتِهِمْ سَاهُونَ",
      "الَّذِينَ هُمْ يُرَاءُونَ",
      "وَيَمْنَعُونَ الْمَاعُونَ",
    ],
  },
  {
    id: 106,
    name: "قريش",
    verses: 4,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "لِإِيلَافِ قُرَيْشٍ",
      "إِيلَافِهِمْ رِحْلَةَ الشِّتَاءِ وَالصَّيْفِ",
      "فَلْيَعْبُدُوا رَبَّ هَٰذَا الْبَيْتِ",
      "الَّذِي أَطْعَمَهُم مِّن جُوعٍ وَآمَنَهُم مِّنْ خَوْفٍ",
    ],
  },
  {
    id: 105,
    name: "الفيل",
    verses: 5,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "أَلَمْ تَرَ كَيْفَ فَعَلَ رَبُّكَ بِأَصْحَابِ الْفِيلِ",
      "أَلَمْ يَجْعَلْ كَيْدَهُمْ فِي تَضْلِيلٍ",
      "وَأَرْسَلَ عَلَيْهِمْ طَيْرًا أَبَابِيلَ",
      "تَرْمِيهِم بِحِجَارَةٍ مِّن سِجِّيلٍ",
      "فَجَعَلَهُمْ كَعَصْفٍ مَّأْكُولٍ",
    ],
  },
  {
    id: 104,
    name: "الهمزة",
    verses: 9,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَيْلٌ لِّكُلِّ هُمَزَةٍ لُّمَزَةٍ",
      "الَّذِي جَمَعَ مَالًا وَعَدَّدَهُ",
      "يَحْسَبُ أَنَّ مَالَهُ أَخْلَدَهُ",
      "كَلَّا ۖ لَيُنبَذَنَّ فِي الْحُطَمَةِ",
      "وَمَا أَدْرَاكَ مَا الْحُطَمَةُ",
      "نَارُ اللَّهِ الْمُوقَدَةُ",
      "الَّتِي تَطَّلِعُ عَلَى الْأَفْئِدَةِ",
      "إِنَّهَا عَلَيْهِم مُّؤْصَدَةٌ",
      "فِي عَمَدٍ مُّمَدَّدَةٍ",
    ],
  },
  {
    id: 103,
    name: "العصر",
    verses: 3,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَالْعَصْرِ",
      "إِنَّ الْإِنسَانَ لَفِي خُسْرٍ",
      "إِلَّا الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ وَتَوَاصَوْا بِالْحَقِّ وَتَوَاصَوْا بِالصَّبْرِ",
    ],
  },
  {
    id: 102,
    name: "التكاثر",
    verses: 8,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "أَلْهَاكُمُ التَّكَاثُرُ",
      "حَتَّىٰ زُرْتُمُ الْمَقَابِرَ",
      "كَلَّا سَوْفَ تَعْلَمُونَ",
      "ثُمَّ كَلَّا سَوْفَ تَعْلَمُونَ",
      "كَلَّا لَوْ تَعْلَمُونَ عِلْمَ الْيَقِينِ",
      "لَتَرَوُنَّ الْجَحِيمَ",
      "ثُمَّ لَتَرَوُنَّهَا عَيْنَ الْيَقِينِ",
      "ثُمَّ لَتُسْأَلُنَّ يَوْمَئِذٍ عَنِ النَّعِيمِ",
    ],
  },
  {
    id: 101,
    name: "القارعة",
    verses: 11,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "الْقَارِعَةُ",
      "مَا الْقَارِعَةُ",
      "وَمَا أَدْرَاكَ مَا الْقَارِعَةُ",
      "يَوْمَ يَكُونُ النَّاسُ كَالْفَرَاشِ الْمَبْثُوثِ",
      "وَتَكُونُ الْجِبَالُ كَالْعِهْنِ الْمَنفُوشِ",
      "فَأَمَّا مَن ثَقُلَتْ مَوَازِينُهُ",
      "فَهُوَ فِي عِيشَةٍ رَّاضِيَةٍ",
      "وَأَمَّا مَنْ خَفَّتْ مَوَازِينُهُ",
      "فَأُمُّهُ هَاوِيَةٌ",
      "وَمَا أَدْرَاكَ مَا هِيَهْ",
      "نَارٌ حَامِيَةٌ",
    ],
  },
  {
    id: 100,
    name: "العاديات",
    verses: 11,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَالْعَادِيَاتِ ضَبْحًا",
      "فَالْمُورِيَاتِ قَدْحًا",
      "فَالْمُغِيرَاتِ صُبْحًا",
      "فَأَثَرْنَ بِهِ نَقْعًا",
      "فَوَسَطْنَ بِهِ جَمْعًا",
      "إِنَّ الْإِنسَانَ لِرَبِّهِ لَكَنُودٌ",
      "وَإِنَّهُ عَلَىٰ ذَٰلِكَ لَشَهِيدٌ",
      "وَإِنَّهُ لِحُبِّ الْخَيْرِ لَشَدِيدٌ",
      "أَفَلَا يَعْلَمُ إِذَا بُعْثِرَ مَا فِي الْقُبُورِ",
      "وَحُصِّلَ مَا فِي الصُّدُورِ",
      "إِنَّ رَبَّهُم بِهِمْ يَوْمَئِذٍ لَّخَبِيرٌ",
    ],
  },
  {
    id: 99,
    name: "الزلزلة",
    verses: 8,
    type: "مدنية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "إِذَا زُلْزِلَتِ الْأَرْضُ زِلْزَالَهَا",
      "وَأَخْرَجَتِ الْأَرْضُ أَثْقَالَهَا",
      "وَقَالَ الْإِنسَانُ مَا لَهَا",
      "يَوْمَئِذٍ تُحَدِّثُ أَخْبَارَهَا",
      "بِأَنَّ رَبَّكَ أَوْحَىٰ لَهَا",
      "يَوْمَئِذٍ يَصْدُرُ النَّاسُ أَشْتَاتًا لِّيُرَوْا أَعْمَالَهُمْ",
      "فَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ خَيْرًا يَرَهُ",
      "وَمَن يَعْمَلْ مِثْقَالَ ذَرَّةٍ شَرًّا يَرَهُ",
    ],
  },
  {
    id: 98,
    name: "البينة",
    verses: 8,
    type: "مدنية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "لَمْ يَكُنِ الَّذِينَ كَفَرُوا مِنْ أَهْلِ الْكِتَابِ وَالْمُشْرِكِينَ مُنفَكِّينَ حَتَّىٰ تَأْتِيَهُمُ الْبَيِّنَةُ",
      "رَسُولٌ مِّنَ اللَّهِ يَتْلُو صُحُفًا مُّطَهَّرَةً",
      "فِيهَا كُتُبٌ قَيِّمَةٌ",
      "وَمَا تَفَرَّقَ الَّذِينَ أُوتُوا الْكِتَابَ إِلَّا مِن بَعْدِ مَا جَاءَتْهُمُ الْبَيِّنَةُ",
      "وَمَا أُمِرُوا إِلَّا لِيَعْبُدُوا اللَّهَ مُخْلِصِينَ لَهُ الدِّينَ حُنَفَاءَ وَيُقِيمُوا الصَّلَاةَ وَيُؤْتُوا الزَّكَاةَ ۚ وَذَٰلِكَ دِينُ الْقَيِّمَةِ",
      "إِنَّ الَّذِينَ كَفَرُوا مِنْ أَهْلِ الْكِتَابِ وَالْمُشْرِكِينَ فِي نَارِ جَهَنَّمَ خَالِدِينَ فِيهَا ۚ أُولَٰئِكَ هُمْ شَرُّ الْبَرِيَّةِ",
      "إِنَّ الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ أُولَٰئِكَ هُمْ خَيْرُ الْبَرِيَّةِ",
      "جَزَاؤُهُمْ عِندَ رَبِّهِمْ جَنَّاتُ عَدْنٍ تَجْرِي مِن تَحْتِهَا الْأَنْهَارُ خَالِدِينَ فِيهَا أَبَدًا ۖ رَّضِيَ اللَّهُ عَنْهُمْ وَرَضُوا عَنْهُ ۚ ذَٰلِكَ لِمَنْ خَشِيَ رَبَّهُ",
    ],
  },
  {
    id: 97,
    name: "القدر",
    verses: 5,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "إِنَّا أَنزَلْنَاهُ فِي لَيْلَةِ الْقَدْرِ",
      "وَمَا أَدْرَاكَ مَا لَيْلَةُ الْقَدْرِ",
      "لَيْلَةُ الْقَدْرِ خَيْرٌ مِّنْ أَلْفِ شَهْرٍ",
      "تَنَزَّلُ الْمَلَائِكَةُ وَالرُّوحُ فِيهَا بِإِذْنِ رَبِّهِم مِّن كُلِّ أَمْرٍ",
      "سَلَامٌ هِيَ حَتَّىٰ مَطْلَعِ الْفَجْرِ",
    ],
  },
  {
    id: 96,
    name: "العلق",
    verses: 19,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ",
      "خَلَقَ الْإِنسَانَ مِنْ عَلَقٍ",
      "اقْرَأْ وَرَبُّكَ الْأَكْرَمُ",
      "الَّذِي عَلَّمَ بِالْقَلَمِ",
      "عَلَّمَ الْإِنسَانَ مَا لَمْ يَعْلَمْ",
      "كَلَّا إِنَّ الْإِنسَانَ لَيَطْغَىٰ",
      "أَن رَّآهُ اسْتَغْنَىٰ",
      "إِنَّ إِلَىٰ رَبِّكَ الرُّجْعَىٰ",
      "أَرَأَيْتَ الَّذِي يَنْهَىٰ",
      "عَبْدًا إِذَا صَلَّىٰ",
      "أَرَأَيْتَ إِن كَانَ عَلَى الْهُدَىٰ",
      "أَوْ أَمَرَ بِالتَّقْوَىٰ",
      "أَرَأَيْتَ إِن كَذَّبَ وَتَوَلَّىٰ",
      "أَلَمْ يَعْلَم بِأَنَّ اللَّهَ يَرَىٰ",
      "كَلَّا لَئِن لَّمْ يَنتَهِ لَنَسْفَعًا بِالنَّاصِيَةِ",
      "نَاصِيَةٍ كَاذِبَةٍ خَاطِئَةٍ",
      "فَلْيَدْعُ نَادِيَهُ",
      "سَنَدْعُ الزَّبَانِيَةَ",
      "كَلَّا لَا تُطِعْهُ وَاسْجُدْ وَاقْتَرِب ۩",
    ],
  },
  {
    id: 95,
    name: "التين",
    verses: 8,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَالتِّينِ وَالزَّيْتُونِ",
      "وَطُورِ سِينِينَ",
      "وَهَٰذَا الْبَلَدِ الْأَمِينِ",
      "لَقَدْ خَلَقْنَا الْإِنسَانَ فِي أَحْسَنِ تَقْوِيمٍ",
      "ثُمَّ رَدَدْنَاهُ أَسْفَلَ سَافِلِينَ",
      "إِلَّا الَّذِينَ آمَنُوا وَعَمِلُوا الصَّالِحَاتِ فَلَهُمْ أَجْرٌ غَيْرُ مَمْنُونٍ",
      "فَمَا يُكَذِّبُكَ بَعْدُ بِالدِّينِ",
      "أَلَيْسَ اللَّهُ بِأَحْكَمِ الْحَاكِمِينَ",
    ],
  },
  {
    id: 94,
    name: "الشرح",
    verses: 8,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "أَلَمْ نَشْرَحْ لَكَ صَدْرَكَ",
      "وَوَضَعْنَا عَنكَ وِزْرَكَ",
      "الَّذِي أَنقَضَ ظَهْرَكَ",
      "وَرَفَعْنَا لَكَ ذِكْرَكَ",
      "فَإِنَّ مَعَ الْعُسْرِ يُسْرًا",
      "إِنَّ مَعَ الْعُسْرِ يُسْرًا",
      "فَإِذَا فَرَغْتَ فَانصَبْ",
      "وَإِلَىٰ رَبِّكَ فَارْغَب",
    ],
  },
  {
    id: 93,
    name: "الضحى",
    verses: 11,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَالضُّحَىٰ",
      "وَاللَّيْلِ إِذَا سَجَىٰ",
      "مَا وَدَّعَكَ رَبُّكَ وَمَا قَلَىٰ",
      "وَلَلْآخِرَةُ خَيْرٌ لَّكَ مِنَ الْأُولَىٰ",
      "وَلَسَوْفَ يُعْطِيكَ رَبُّكَ فَتَرْضَىٰ",
      "أَلَمْ يَجِدْكَ يَتِيمًا فَآوَىٰ",
      "وَوَجَدَكَ ضَالًّا فَهَدَىٰ",
      "وَوَجَدَكَ عَائِلًا فَأَغْنَىٰ",
      "فَأَمَّا الْيَتِيمَ فَلَا تَقْهَرْ",
      "وَأَمَّا السَّائِلَ فَلَا تَنْهَرْ",
      "وَأَمَّا بِنِعْمَةِ رَبِّكَ فَحَدِّثْ",
    ],
  },
  {
    id: 92,
    name: "الليل",
    verses: 21,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَاللَّيْلِ إِذَا يَغْشَىٰ",
      "وَالنَّهَارِ إِذَا تَجَلَّىٰ",
      "وَمَا خَلَقَ الذَّكَرَ وَالْأُنثَىٰ",
      "إِنَّ سَعْيَكُمْ لَشَتَّىٰ",
      "فَأَمَّا مَنْ أَعْطَىٰ وَاتَّقَىٰ",
      "وَصَدَّقَ بِالْحُسْنَىٰ",
      "فَسَنُيَسِّرُهُ لِلْيُسْرَىٰ",
      "وَأَمَّا مَن بَخِلَ وَاسْتَغْنَىٰ",
      "وَكَذَّبَ بِالْحُسْنَىٰ",
      "فَسَنُيَسِّرُهُ لِلْعُسْرَىٰ",
      "وَمَا يُغْنِي عَنْهُ مَالُهُ إِذَا تَرَدَّىٰ",
      "إِنَّ عَلَيْنَا لَلْهُدَىٰ",
      "وَإِنَّ لَنَا لَلْآخِرَةَ وَالْأُولَىٰ",
      "فَأَنذَرْتُكُمْ نَارًا تَلَظَّىٰ",
      "لَا يَصْلَاهَا إِلَّا الْأَشْقَى",
      "الَّذِي كَذَّبَ وَتَوَلَّىٰ",
      "وَسَيُجَنَّبُهَا الْأَتْقَى",
      "الَّذِي يُؤْتِي مَالَهُ يَتَزَكَّىٰ",
      "وَمَا لِأَحَدٍ عِندَهُ مِن نِّعْمَةٍ تُجْزَىٰ",
      "إِلَّا ابْتِغَاءَ وَجْهِ رَبِّهِ الْأَعْلَىٰ",
      "وَلَسَوْفَ يَرْضَىٰ",
    ],
  },
  {
    id: 91,
    name: "الشمس",
    verses: 15,
    type: "مكية",
    ayat: [
      "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
      "وَالشَّمْسِ وَضُحَاهَا",
      "وَالْقَمَرِ إِذَا تَلَاهَا",
      "وَالنَّهَارِ إِذَا جَلَّاهَا",
      "وَاللَّيْلِ إِذَا يَغْشَاهَا",
      "وَالسَّمَاءِ وَمَا بَنَاهَا",
      "وَالْأَرْضِ وَمَا طَحَاهَا",
      "وَنَفْسٍ وَمَا سَوَّاهَا",
      "فَأَلْهَمَهَا فُجُورَهَا وَتَقْوَاهَا",
      "قَدْ أَفْلَحَ مَن زَكَّاهَا",
      "وَقَدْ خَابَ مَن دَسَّاهَا",
      "كَذَّبَتْ ثَمُودُ بِطَغْوَاهَا",
      "إِذِ انبَعَثَ أَشْقَاهَا",
      "فَقَالَ لَهُمْ رَسُولُ اللَّهِ نَاقَةَ اللَّهِ وَسُقْيَاهَا",
      "فَكَذَّبُوهُ فَعَقَرُوهَا فَدَمْدَمَ عَلَيْهِمْ رَبُّهُم بِذَنبِهِمْ فَسَوَّاهَا",
      "وَلَا يَخَافُ عُقْبَاهَا",
    ],
  },
];

// Sort surahs by ID
const sortedSurahs = [...surahs].sort((a, b) => a.id - b.id);

export function QuranSection() {
  const [selectedSurah, setSelectedSurah] = useState(surahs[0]);
  const [searchQuery, setSearchQuery] = useState("");
  const [isPlaying, setIsPlaying] = useState(false);

  const filteredSurahs = sortedSurahs.filter((surah) =>
    surah.name.includes(searchQuery)
  );

  const currentIndex = sortedSurahs.findIndex((s) => s.id === selectedSurah.id);

  const goToNext = () => {
    if (currentIndex < sortedSurahs.length - 1) {
      setSelectedSurah(sortedSurahs[currentIndex + 1]);
    }
  };

  const goToPrev = () => {
    if (currentIndex > 0) {
      setSelectedSurah(sortedSurahs[currentIndex - 1]);
    }
  };

  return (
    <section className="min-h-[calc(100vh-4rem)] islamic-pattern py-8">
      <div className="container mx-auto px-4">
        <div className="flex items-center gap-3 mb-8">
          <div className="p-3 rounded-xl bg-primary/10">
            <BookOpen className="h-8 w-8 text-primary" />
          </div>
          <div>
            <h2 className="text-3xl font-bold text-primary font-arabic">القرآن الكريم</h2>
            <p className="text-muted-foreground">اقرأ واستمع للقرآن الكريم - {surahs.length} سورة</p>
          </div>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          {/* Surah List */}
          <Card className="lg:col-span-1">
            <CardHeader className="pb-3">
              <CardTitle className="text-lg font-arabic">قائمة السور</CardTitle>
              <div className="relative mt-2">
                <Search className="absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                <Input
                  placeholder="ابحث عن سورة..."
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  className="pr-10 text-right"
                />
              </div>
            </CardHeader>
            <CardContent>
              <ScrollArea className="h-[400px] pr-4">
                <div className="space-y-2">
                  {filteredSurahs.map((surah) => (
                    <button
                      key={surah.id}
                      onClick={() => setSelectedSurah(surah)}
                      className={`w-full p-3 rounded-lg text-right transition-all flex items-center justify-between ${
                        selectedSurah.id === surah.id
                          ? "bg-primary text-primary-foreground"
                          : "bg-muted/50 hover:bg-muted"
                      }`}
                    >
                      <span
                        className={`text-xs px-2 py-1 rounded ${
                          selectedSurah.id === surah.id
                            ? "bg-primary-foreground/20"
                            : "bg-primary/10 text-primary"
                        }`}
                      >
                        {surah.type}
                      </span>
                      <div className="flex items-center gap-3">
                        <div>
                          <p className="font-bold font-arabic">{surah.name}</p>
                          <p className="text-xs opacity-75">{surah.verses} آية</p>
                        </div>
                        <span
                          className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${
                            selectedSurah.id === surah.id
                              ? "bg-primary-foreground/20"
                              : "bg-primary/10 text-primary"
                          }`}
                        >
                          {surah.id}
                        </span>
                      </div>
                    </button>
                  ))}
                </div>
              </ScrollArea>
            </CardContent>
          </Card>

          {/* Surah Content */}
          <Card className="lg:col-span-2">
            <CardHeader className="border-b">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <Button 
                    variant="ghost" 
                    size="icon" 
                    onClick={goToNext}
                    disabled={currentIndex >= sortedSurahs.length - 1}
                  >
                    <ChevronRight className="h-5 w-5" />
                  </Button>
                  <Button 
                    variant="ghost" 
                    size="icon" 
                    onClick={goToPrev}
                    disabled={currentIndex <= 0}
                  >
                    <ChevronLeft className="h-5 w-5" />
                  </Button>
                </div>
                <div className="text-center">
                  <CardTitle className="text-2xl font-arabic">{selectedSurah.name}</CardTitle>
                  <p className="text-sm text-muted-foreground">
                    {selectedSurah.verses} آية - {selectedSurah.type}
                  </p>
                </div>
                <Button
                  variant="outline"
                  size="icon"
                  onClick={() => setIsPlaying(!isPlaying)}
                  className="rounded-full"
                >
                  {isPlaying ? <Pause className="h-5 w-5" /> : <Play className="h-5 w-5" />}
                </Button>
              </div>
            </CardHeader>
            <CardContent className="p-6">
              <ScrollArea className="h-[400px]">
                <div className="space-y-4 text-right leading-loose">
                  {selectedSurah.ayat.map((verse, index) => (
                    <p
                      key={index}
                      className={`text-xl md:text-2xl font-arabic text-foreground hover:text-primary transition-colors cursor-pointer p-3 rounded-lg hover:bg-primary/5 ${
                        index === 0 ? "text-center text-primary font-bold mb-6" : ""
                      }`}
                    >
                      {verse}
                      {index > 0 && (
                        <span className="inline-flex items-center justify-center w-8 h-8 mr-2 rounded-full bg-primary/10 text-primary text-sm">
                          {index}
                        </span>
                      )}
                    </p>
                  ))}
                </div>
              </ScrollArea>
            </CardContent>
          </Card>
        </div>
      </div>
    </section>
  );
}
